(()=>{"use strict";function e(e,t,n,o){void 0===t&&(t=400),void 0===o&&(o=!1),e.style.overflow="hidden",o&&(e.style.display="block");const s=window.getComputedStyle(e),i=parseFloat(s.getPropertyValue("height")),a=parseFloat(s.getPropertyValue("padding-top")),r=parseFloat(s.getPropertyValue("padding-bottom")),l=parseFloat(s.getPropertyValue("margin-top")),c=parseFloat(s.getPropertyValue("margin-bottom")),d=i/t,u=a/t,m=r/t,g=l/t,p=c/t;let y;window.requestAnimationFrame((function s(h){void 0===y&&(y=h);const f=h-y;o?(e.style.height=d*f+"px",e.style.paddingTop=u*f+"px",e.style.paddingBottom=m*f+"px",e.style.marginTop=g*f+"px",e.style.marginBottom=p*f+"px"):(e.style.height=i-d*f+"px",e.style.paddingTop=a-u*f+"px",e.style.paddingBottom=r-m*f+"px",e.style.marginTop=l-g*f+"px",e.style.marginBottom=c-p*f+"px"),f>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",o||(e.style.display="none"),"function"==typeof n&&n()):window.requestAnimationFrame(s)}))}document.addEventListener("DOMContentLoaded",(()=>{function e(){var e=document.querySelector(".header__wrapper"),t=parseFloat(getComputedStyle(document.documentElement).fontSize);if(e&&t){var n=e.offsetHeight/t;document.body.style.setProperty("--header-height",`${n}rem`)}}"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1,on:{ready:e=>{const t=e.options.triggerEl;if(t&&t.classList.contains("booking__time")){const e=t.dataset.datetime,n=t.dataset.price,o=t.dataset.title,s=document.getElementById("booking");if(s){const t=s.querySelector(".quest-date"),i=s.querySelector(".quest-price"),a=s.querySelector(".quest-name"),[r,l]=e.split("T"),[c,d,u]=r.split("-"),m=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],g=`${parseInt(u)} ${m[parseInt(d)-1]} ${c}, ${l}`;t&&(t.value=g),i&&(i.textContent=`${n} руб.`),a&&(a.value=o)}}}}}),function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<992?(document.body.classList.remove("_pc"),document.body.classList.add("_touch")):(document.body.classList.remove("_touch"),document.body.classList.add("_pc"))}t(),window.addEventListener("resize",(()=>{t()}))})(),(()=>{var e=document.querySelectorAll('input[type="tel"]'),t=function(e){return e.value.replace(/\D/g,"")},n=function(e){var n=e.target,o=t(n),s=e.clipboardData||window.clipboardData;if(s){var i=s.getData("Text");if(/\D/g.test(i))return void(n.value=o)}},o=function(e){var n=e.target,o=t(n),s=n.selectionStart,i="";if(!o)return n.value="";if(n.value.length==s){if(["7","8","9"].indexOf(o[0])>-1){"9"==o[0]&&(o="7"+o);var a="8"==o[0]?"8":"+7";i=n.value=a+" ",o.length>1&&(i+="("+o.substring(1,4)),o.length>=5&&(i+=") "+o.substring(4,7)),o.length>=8&&(i+="-"+o.substring(7,9)),o.length>=10&&(i+="-"+o.substring(9,11))}else i="+"+o.substring(0,16);n.value=i}else e.data&&/\D/g.test(e.data)&&(n.value=o)},s=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var i of e)i.addEventListener("keydown",s),i.addEventListener("input",o,!1),i.addEventListener("paste",n,!1)})(),document.querySelectorAll("select")?.forEach((e=>{e.addEventListener("click",(function(){this.parentElement.classList.toggle("focus")})),e.addEventListener("blur",(function(){this.parentElement.classList.remove("focus")}))})),document.addEventListener("click",(e=>{const t=e.target;if(t.closest(".header__menu-toggler")&&(document.querySelector(".header")?.classList.add("open-menu"),document.body.classList.add("lock")),(t.closest(".menu__close")||t.matches(".menu"))&&(document.querySelector(".header")?.classList.remove("open-menu"),document.body.classList.remove("lock")),t.matches(".widget__toggler")&&document.querySelector(".widget")?.classList.toggle("active"),!t.closest(".widget")&&document.querySelector(".widget").classList.contains("active")&&document.querySelector(".widget")?.classList.remove("active"),t.matches(".booking__filters-btn")){document.querySelectorAll(".booking__filters-btn")?.forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),document.querySelectorAll("[data-title]")?.forEach((e=>{e.dataset.title=t.textContent}));const e=document.querySelector(".booking__spoller");e&&(e.textContent=t.textContent,e.classList.contains("active")&&document.querySelector(".booking__filters-btns")?.slideUp(),e?.classList.remove("active"))}if(t.matches(".booking__spoller")&&(t.classList.toggle("active"),t.nextElementSibling.slideToggle()),t.matches(".anti-cafe__tab-btn")){const e=document.querySelectorAll(".anti-cafe__tab-btn"),n=document.querySelectorAll(".anti-cafe__tab-content"),o=[...e].indexOf(t);e.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),n.forEach(((e,t)=>{e.classList.toggle("active",t===o)}))}})),document.querySelector(".description__gallery")&&function(e,t){let n=!1,o=null;function s(){window.innerWidth<=767.98?n||(n=!0,o=new Swiper(".description__gallery",t)):n&&(o.destroy(),o=null,n=!1)}s(),window.addEventListener("resize",s)}(0,{spaceBetween:15,slidesPerView:1.1}),document.querySelectorAll(".videos__slider")&&document.querySelectorAll(".videos__slider")?.forEach((e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:15,breakpoints:{767.98:{slidesPerView:2,spaceBetween:30},1199.98:{slidesPerView:3,spaceBetween:40}}})})),document.querySelectorAll(".gallery__slider")&&document.querySelectorAll(".gallery__slider")?.forEach((e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:15,breakpoints:{767.98:{slidesPerView:2,spaceBetween:30},1199.98:{slidesPerView:3,spaceBetween:40}}})})),e(),window.addEventListener("resize",e);const t=document.querySelector(".header");new IntersectionObserver((function(e,n){e[0].isIntersecting?t.classList.remove("scroll"):t.classList.add("scroll")})).observe(t);const n=document.querySelector(".widget");if(n){function l(){window.scrollY>window.innerHeight?n.classList.add("visible"):n.classList.remove("visible")}window.addEventListener("scroll",l),l()}const o=document.querySelector(".wrapper"),s=o.offsetHeight,i=o.offsetWidth;let a=document.createElement("div");if(a.classList.add("lighten"),s<2e3)return;const r=Math.floor((s-2e3)/160);for(let c=0;c<r;c++){const d=document.createElement("span");d.classList.add("light"),Math.random()<.3&&d.classList.add("light-yellow");const u=(60*Math.random()+30)/16;d.style.width=`${u}rem`,d.style.height=`${u}rem`;const m=u;let g=Math.random()*(100-m);g+m>i/16&&(g=i/16-m),d.style.position="absolute",d.style.top=100*Math.random()+"%",d.style.left=`${g}rem`,d.style.pointerEvents="none",d.style.zIndex="1";const p=3*Math.random()+2;if(d.style.animationDuration=`${p}s`,Math.random()<.5){d.classList.add("blink");const y=3*Math.random()+2;d.style.animationDuration=`${y}s`}else{d.classList.add("move-on-scroll"),d.setAttribute("data-speed",m);const h=18*Math.random()+2,f=18*Math.random()+2;d.style.animationDuration=`${h}s`,d.style.animationDelay=`${f}s`}a.appendChild(d)}o.appendChild(a)})),HTMLElement.prototype.slideToggle=function(t,n){0===this.clientHeight?e(this,t,n,!0):e(this,t,n)},HTMLElement.prototype.slideUp=function(t,n){e(this,t,n)},HTMLElement.prototype.slideDown=function(t,n){e(this,t,n,!0)}})();