(()=>{"use strict";function e(e,t,o,n){void 0===t&&(t=400),void 0===n&&(n=!1),e.style.overflow="hidden",n&&(e.style.display="block");const s=window.getComputedStyle(e),i=parseFloat(s.getPropertyValue("height")),a=parseFloat(s.getPropertyValue("padding-top")),r=parseFloat(s.getPropertyValue("padding-bottom")),l=parseFloat(s.getPropertyValue("margin-top")),c=parseFloat(s.getPropertyValue("margin-bottom")),d=i/t,u=a/t,m=r/t,g=l/t,y=c/t;let p;window.requestAnimationFrame((function s(f){void 0===p&&(p=f);const h=f-p;n?(e.style.height=d*h+"px",e.style.paddingTop=u*h+"px",e.style.paddingBottom=m*h+"px",e.style.marginTop=g*h+"px",e.style.marginBottom=y*h+"px"):(e.style.height=i-d*h+"px",e.style.paddingTop=a-u*h+"px",e.style.paddingBottom=r-m*h+"px",e.style.marginTop=l-g*h+"px",e.style.marginBottom=c-y*h+"px"),h>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",n||(e.style.display="none"),"function"==typeof o&&o()):window.requestAnimationFrame(s)}))}document.addEventListener("DOMContentLoaded",(()=>{function e(){var e=document.querySelector(".header__wrapper"),t=parseFloat(getComputedStyle(document.documentElement).fontSize);if(e&&t){var o=e.offsetHeight/t;document.body.style.setProperty("--header-height",`${o}rem`)}}"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1,on:{ready:e=>{const t=e.options.triggerEl;if(t&&t.classList.contains("booking__time")){const e=t.dataset.datetime,o=t.dataset.price,n=t.dataset.title,s=document.getElementById("booking");if(s){const t=s.querySelector(".quest-date"),i=s.querySelector(".quest-price"),a=s.querySelector(".quest-name"),[r,l]=e.split("T"),[c,d,u]=r.split("-"),m=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],g=`${parseInt(u)} ${m[parseInt(d)-1]} ${c}, ${l}`;t&&(t.value=g),i&&(i.textContent=`${o} руб.`),a&&(a.value=n)}}}}}),function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<992?(document.body.classList.remove("_pc"),document.body.classList.add("_touch")):(document.body.classList.remove("_touch"),document.body.classList.add("_pc"))}t(),window.addEventListener("resize",(()=>{t()}))})(),(()=>{var e=document.querySelectorAll('input[type="tel"]'),t=function(e){return e.value.replace(/\D/g,"")},o=function(e){var o=e.target,n=t(o),s=e.clipboardData||window.clipboardData;if(s){var i=s.getData("Text");if(/\D/g.test(i))return void(o.value=n)}},n=function(e){var o=e.target,n=t(o),s=o.selectionStart,i="";if(!n)return o.value="";if(o.value.length==s){if(["7","8","9"].indexOf(n[0])>-1){"9"==n[0]&&(n="7"+n);var a="8"==n[0]?"8":"+7";i=o.value=a+" ",n.length>1&&(i+="("+n.substring(1,4)),n.length>=5&&(i+=") "+n.substring(4,7)),n.length>=8&&(i+="-"+n.substring(7,9)),n.length>=10&&(i+="-"+n.substring(9,11))}else i="+"+n.substring(0,16);o.value=i}else e.data&&/\D/g.test(e.data)&&(o.value=n)},s=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var i of e)i.addEventListener("keydown",s),i.addEventListener("input",n,!1),i.addEventListener("paste",o,!1)})(),document.querySelectorAll("select")?.forEach((e=>{e.addEventListener("click",(function(){this.parentElement.classList.toggle("focus")})),e.addEventListener("blur",(function(){this.parentElement.classList.remove("focus")}))})),document.addEventListener("click",(e=>{const t=e.target;if(t.closest(".header__menu-toggler")&&(document.querySelector(".header")?.classList.add("open-menu"),document.body.classList.add("lock")),(t.closest(".menu__close")||t.matches(".menu"))&&(document.querySelector(".header")?.classList.remove("open-menu"),document.body.classList.remove("lock")),t.matches(".widget__toggler")&&document.querySelector(".widget")?.classList.toggle("active"),!t.closest(".widget")&&document.querySelector(".widget").classList.contains("active")&&document.querySelector(".widget")?.classList.remove("active"),t.matches(".booking__filters-btn")){const e=document.querySelectorAll(".booking__filters-btn"),o=document.querySelectorAll(".booking__tab-block"),n=[...e].indexOf(t);e.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),o.forEach(((e,t)=>{e.classList.toggle("active",t===n)}));const s=document.querySelector(".booking__spoller");s&&(s.textContent=t.textContent,s.classList.contains("active")&&document.querySelector(".booking__filters-btns")?.slideUp(),s?.classList.remove("active"))}if(t.matches(".booking__spoller")&&(t.classList.toggle("active"),t.nextElementSibling.slideToggle()),t.matches(".anti-cafe__tab-btn")){const e=document.querySelectorAll(".anti-cafe__tab-btn"),o=document.querySelectorAll(".anti-cafe__tab-content"),n=[...e].indexOf(t);e.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),o.forEach(((e,t)=>{e.classList.toggle("active",t===n)}))}if(t.matches(".quests__filter")){const e=t.getAttribute("data-quest-category"),o=document.querySelectorAll(".quests__filter"),n=document.querySelectorAll(".quests__item");o.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),n.forEach((t=>{const o=t.getAttribute("data-category");t.style.display="all"===e||o===e?"":"none"}))}})),document.querySelector(".description__gallery")&&function(e,t){let o=!1,n=null;function s(){window.innerWidth<=767.98?o||(o=!0,n=new Swiper(".description__gallery",t)):o&&(n.destroy(),n=null,o=!1)}s(),window.addEventListener("resize",s)}(0,{spaceBetween:15,slidesPerView:1.1}),document.querySelectorAll(".videos__slider")&&document.querySelectorAll(".videos__slider")?.forEach((e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:15,breakpoints:{767.98:{slidesPerView:2,spaceBetween:30},1199.98:{slidesPerView:3,spaceBetween:40}}})})),document.querySelectorAll(".gallery__slider")&&document.querySelectorAll(".gallery__slider")?.forEach((e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:15,breakpoints:{767.98:{slidesPerView:2,spaceBetween:30},1199.98:{slidesPerView:3,spaceBetween:40}}})})),e(),window.addEventListener("resize",e);const t=document.querySelector(".header");new IntersectionObserver((function(e,o){e[0].isIntersecting?t.classList.remove("scroll"):t.classList.add("scroll")})).observe(t);const o=document.querySelector(".widget");if(o){function l(){window.scrollY>window.innerHeight?o.classList.add("visible"):o.classList.remove("visible")}window.addEventListener("scroll",l),l()}const n=document.querySelector(".wrapper"),s=n.offsetHeight,i=n.offsetWidth;let a=document.createElement("div");if(a.classList.add("lighten"),s<2e3)return;const r=Math.floor((s-2e3)/160);for(let c=0;c<r;c++){const d=document.createElement("span");d.classList.add("light"),Math.random()<.3&&d.classList.add("light-yellow");const u=(60*Math.random()+30)/16;d.style.width=`${u}rem`,d.style.height=`${u}rem`;const m=u;let g=Math.random()*(100-m);g+m>i/16&&(g=i/16-m),d.style.position="absolute",d.style.top=100*Math.random()+"%",d.style.left=`${g}rem`,d.style.pointerEvents="none",d.style.zIndex="1";const y=3*Math.random()+2;if(d.style.animationDuration=`${y}s`,Math.random()<.5){d.classList.add("blink");const p=3*Math.random()+2;d.style.animationDuration=`${p}s`}else{d.classList.add("move-on-scroll"),d.setAttribute("data-speed",m);const f=18*Math.random()+2,h=18*Math.random()+2;d.style.animationDuration=`${f}s`,d.style.animationDelay=`${h}s`}a.appendChild(d)}n.appendChild(a)})),HTMLElement.prototype.slideToggle=function(t,o){0===this.clientHeight?e(this,t,o,!0):e(this,t,o)},HTMLElement.prototype.slideUp=function(t,o){e(this,t,o)},HTMLElement.prototype.slideDown=function(t,o){e(this,t,o,!0)}})();